<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>PDF Forge Local UI</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="/ui/styles.css">
</head>
<body>
  <header>
    <h1>PDF Forge Local</h1>
  </header>

  <main>
    <section class="panel" id="panel-organize">
      <h2>Upload PDF</h2>
      <input id="pdfFile" type="file" accept="application/pdf">
      <button id="thumbBtn">Generate Thumbnails</button>
      <div id="thumbs" class="thumbs"></div>
      <div class="hint" aria-live="polite">Tip: Use Up/Down arrows to reorder focused thumbnail; Space toggles select.</div>

      <div class="actions">
        <button id="reorderBtn">Reorder & Export</button>
        <button id="deleteBtn">Delete Selected</button>
        <label style="margin-left:8px;">Ranges <input id="splitRanges" placeholder="1-3; 4-6"></label>
        <button id="splitBtn">Split</button>
      </div>
    </section>

    <section class="panel" id="panel-images">
      <h2>Images → PDF</h2>
      <input id="imgFiles" type="file" accept="image/*" multiple>
      <button id="img2pdfBtn">Create PDF</button>
      <div id="img2pdfOut" class="output"></div>
    </section>

    <section class="panel" id="panel-ocr">
      <h2>OCR</h2>
      <label>Language: <input id="ocrLang" value="eng"></label>
      <div class="actions">
        <button id="ocrBtn">Make Searchable</button>
        <button id="ocrCancelBtn" disabled>Cancel</button>
      </div>
      <div id="ocrOut" class="output"></div>
    </section>

    <section class="panel" id="panel-format">
      <h2>Watermark / Page Numbers / Compress</h2>
      <div class="grid">
        <div>
          <label>Watermark text: <input id="wmText" placeholder="CONFIDENTIAL"></label>
          <button id="wmBtn">Apply Watermark</button>
        </div>
        <div>
          <label>Numbers position:
            <select id="numPos">
              <option>bottom-right</option>
              <option>bottom-left</option>
              <option>bottom-center</option>
              <option>top-right</option>
              <option>top-left</option>
            </select>
          </label>
          <button id="numBtn">Add Page Numbers</button>
        </div>
        <div>
          <label>Image quality (0.1–1.0): <input id="cmpQ" type="number" step="0.1" min="0.1" max="1.0" value="0.6"></label>
          <button id="cmpBtn">Compress PDF</button>
        </div>
      </div>
      <div id="fmtOut" class="output"></div>
    </section>

    <section class="panel" id="panel-downloads">
      <h2>Downloads</h2>
      <button id="listBtn">List /tmp files</button>
      <ul id="fileList"></ul>
    </section>

    <section class="panel">
      <h2>Metadata</h2>
      <div class="grid">
        <div>
          <button id="metaGetBtn">Get Metadata</button>
          <pre id="metaGetOut" class="output"></pre>
        </div>
        <div>
          <label>Title <input id="metaTitle"></label>
          <label>Author <input id="metaAuthor"></label>
          <label>Subject <input id="metaSubject"></label>
          <label>Keywords <input id="metaKeywords"></label>
          <button id="metaSetBtn">Set Metadata</button>
        </div>
        <div>
          <button id="bmListBtn">List Bookmarks</button>
          <pre id="bmListOut" class="output"></pre>
          <label>Bookmark text <input id="bmText"></label>
          <label>Page <input id="bmPage" type="number" value="1" min="1"></label>
          <button id="bmAddBtn">Add Bookmark</button>
        </div>
      </div>
    </section>

    <section class="panel">
      <h2>Forms</h2>
      <div class="grid">
        <div>
          <button id="formsListBtn">List Fields</button>
          <pre id="formsListOut" class="output"></pre>
        </div>
        <div>
          <label>Data JSON</label>
          <textarea id="formsJson" rows="6" placeholder='{"FieldName":"Value"}'></textarea>
          <label><input id="formsFlatten" type="checkbox" checked> Flatten</label>
          <button id="formsFillBtn">Fill</button>
        </div>
      </div>
    </section>

    <section class="panel">
      <h2>Redact</h2>
      <div class="grid">
        <div>
          <label>Texts (CSV)</label>
          <input id="redactTexts" placeholder="secret, ssn">
          <button id="redactTextsBtn">Redact Texts</button>
        </div>
        <div>
          <label>Boxes JSON</label>
          <textarea id="redactBoxes" rows="6" placeholder='[{"page":1,"x1":10,"y1":10,"x2":200,"y2":40}]'></textarea>
          <button id="redactBoxesBtn">Redact Boxes</button>
        </div>
      </div>
    </section>

    <section class="panel">
      <h2>Compliance</h2>
      <label>PDF/A Level
        <select id="pdfaLevel">
          <option>PDF/A-2B</option>
          <option>PDF/A-1B</option>
        </select>
      </label>
      <div class="actions">
        <button id="pdfaBtn">Make PDF/A</button>
        <button id="linearizeBtn">Linearize</button>
      </div>
      <div id="compOut" class="output"></div>
    </section>

    <section class="panel">
      <h2>Security</h2>
      <div class="grid">
        <div>
          <label>Password <input id="secPwd" type="password"></label>
          <button id="encryptBtn">Encrypt</button>
        </div>
        <div>
          <label>Password <input id="secPwd2" type="password"></label>
          <button id="decryptBtn">Decrypt</button>
        </div>
      </div>
    </section>

    <section class="panel" id="panel-advanced">
      <h2>Advanced</h2>
      <div class="grid">
        <div>
          <h3>Extract Tables</h3>
          <label>Max pages <input id="xtMaxPages" type="number" min="1" max="500" value="25"></label>
          <label>Prefix <input id="xtPrefix" value="table"></label>
          <button id="xtBtn">Extract to CSV</button>
          <div id="xtOut" class="output"></div>
        </div>
        <div>
          <h3>Form Automation</h3>
          <button id="faListBtn">List Fields</button>
          <pre id="faListOut" class="output"></pre>
          <label>Data (JSON or CSV key,value per line)</label>
          <textarea id="faData" rows="6" placeholder='{"Field":"Value"}\nname,John'></textarea>
          <label><input id="faFlatten" type="checkbox" checked> Flatten</label>
          <button id="faFillBtn">Fill Form</button>
        </div>
        <div>
          <h3>Bookmarks Manager</h3>
          <button id="bm2ListBtn">List Bookmarks</button>
          <pre id="bm2ListOut" class="output"></pre>
          <label>Text <input id="bm2Text"></label>
          <label>Page <input id="bm2Page" type="number" value="1" min="1"></label>
          <button id="bm2AddBtn">Add Bookmark</button>
          <button id="bm2RemoveBtn" disabled>Remove (coming soon)</button>
        </div>
      </div>
    </section>

    <section class="panel" id="panel-ai">
      <h2>AI Tools (placeholders)</h2>
      <div class="grid">
        <div>
          <h3>Summarise PDF</h3>
          <button id="aiSummBtn">Summarise (coming soon)</button>
        </div>
        <div>
          <h3>Translate PDF</h3>
          <label>Language <input id="aiLang" placeholder="en, es, fr"></label>
          <button id="aiTransBtn">Translate (coming soon)</button>
        </div>
      </div>
    </section>

    <section class="panel" id="panel-accessibility">
      <h2>Accessibility</h2>
      <div class="grid">
        <div>
          <h3>Accessible PDF</h3>
          <button id="accPdfBtn">Convert (coming soon)</button>
        </div>
        <div>
          <h3>Read Aloud</h3>
          <button id="ttsExtractBtn">Extract & Read</button>
          <button id="ttsStopBtn">Stop</button>
          <textarea id="ttsText" rows="6" placeholder="Text preview for speech..."></textarea>
          <button id="ttsSpeakBtn">Speak Text</button>
        </div>
        <div>
          <h3>High Contrast</h3>
          <button id="hcToggleBtn" aria-label="Toggle high-contrast view">Toggle High Contrast</button>
        </div>
      </div>
    </section>

    <section class="panel" id="panel-workflows">
      <h2>Workflows</h2>
      <p class="hint">Chain actions (e.g., Merge → Compress → Watermark) and save as reusable JSON.</p>
      <div class="grid">
        <div>
          <label for="wfAction">Add step</label>
          <select id="wfAction">
            <option value="merge">Merge</option>
            <option value="compress">Compress</option>
            <option value="watermark">Watermark</option>
            <option value="page-numbers">Page Numbers</option>
            <option value="ocr">OCR</option>
            <option value="extract-tables">Extract Tables</option>
            <option value="pdfa">PDF/A</option>
            <option value="linearize">Linearize</option>
            <option value="redact">Redact</option>
            <option value="encrypt">Encrypt</option>
            <option value="decrypt">Decrypt</option>
          </select>
          <button id="wfAddBtn">Add Step</button>
          <ul id="wfList" class="wf-list"></ul>
          <div class="actions">
            <button id="wfExportBtn">Export JSON</button>
            <input id="wfImportFile" type="file" accept="application/json" style="display:none">
            <button id="wfImportBtn">Import JSON</button>
            <button id="wfRunBtn" disabled>Run (coming soon)</button>
          </div>
        </div>
        <div>
          <h3>Workflow JSON</h3>
          <pre id="wfJsonOut" class="output"></pre>
        </div>
      </div>
    </section>
  </main>

  <div id="toasts" class="toasts" aria-live="polite" aria-atomic="true"></div>

  <script src="/ui/app.js"></script>
</body>
</html>
