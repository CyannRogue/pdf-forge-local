# Minimal UI

- Served at `/ui`.
- Thumbnails are generated by `POST /convert/pdf-to-images` (PNG files saved to `/tmp`).
- Drag-and-drop to reorder thumbnails, then `POST /organize/reorder`.
- Delete selected pages via `POST /organize/delete-pages`.
- Images→PDF via `POST /convert/images-to-pdf`.
- OCR via `POST /ocr/searchable`.
- Watermark / Page numbers / Compress via `/format/*`.
- Download any output from `/files/download?name=<basename>`.

## UX
- Buttons disable while requests are in flight to avoid duplicates.
- A toast (aria-live) announces success/errors; errors display `message`, `code`, and `request_id`.
- Basic progress feedback by changing button label to “Working…”.
 - Keyboard-only reordering: Focus thumbnails and use Up/Down; Space to toggle select.

## Accessibility
- Keyboard navigable controls; visible focus states from default browser styles.
- Toast container uses `aria-live="polite"` so screen readers announce updates.

---

# Landing / Home

- Location: built to `web/home/` and served at `/ui/home/` (hash router). Dev server at `web/spa/`.
- Stack: React + Tailwind + lucide-react. No backend changes required.
- Entry: `web/spa/src/pages/Home.tsx`, per‑tool redirect: `web/spa/src/pages/ToolLaunch.tsx`.
- Tool registry: `web/spa/src/data/tools.ts` exports `Tool`, `CATEGORIES`, and `TOOLS` arrays.
  - Add a tool by appending to `TOOLS` with an `id`, `title`, `desc`, `icon`, `categories`, and `launch.path` (e.g., `/ui?tool=merge`).
  - Unknown/coming‑soon tools can be included with `enabled: false` and a `launch.path: '#coming-soon'`.
- Deep link contract: `/ui?tool=ID` scrolls and focuses corresponding panel in Workbench; `/ui/home/#/tools/ID` redirects to `/ui?tool=ID`.

Categories
- Added: `AI Tools`, `Accessibility` in `CATEGORIES`.
- Examples added in registry: Summarise PDF, Translate PDF, Accessible PDF, Read Aloud, High Contrast.

Dev
- Install: `cd web/spa && npm i`
- Run: `npm run dev` (default http://localhost:5173)
- Build: `npm run build` → outputs to `web/home/`

Accessibility
- Keyboard operable (tabs, cards, open button). Search labeled; toasts aria-live.

---

# Workflows (Workbench)

- Panel ID: `panel-workflows` under `/ui`.
- Create a workflow: choose an action in the select → Add Step; repeat.
- Reorder steps: use ↑/↓ on each step item or delete (✕).
- Save/export: click “Export JSON” to download the config.
- Import: click “Import JSON” and choose a saved workflow.
- Run: placeholder for future; will sequentially call backend endpoints (e.g., Merge → Compress → Watermark).

JSON Shape
```
{
  "steps": [
    { "action": "merge" },
    { "action": "compress" },
    { "action": "watermark" }
  ]
}
```

---

# AI/Accessibility Placeholders

- Summarise / Translate: UI buttons log a toast; wire actual integration later (server-side AI or local models).
- Accessible PDF: UI button placeholder; future integration may use tagging/structure embedding.
- Read Aloud: Provides a simple text-to-speech preview via browser `speechSynthesis`; “Extract & Read” pulls text via `/extract/text`.
- High Contrast: toggles a high-contrast theme (CSS class) locally.
